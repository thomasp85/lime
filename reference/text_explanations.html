<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot text explanations — plot_text_explanations • lime</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot text explanations — plot_text_explanations"><meta property="og:description" content="Highlight words which explains a prediction."><meta property="og:image" content="https://lime.data-imaginist.com/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- dependencies from examples --><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="libs/plot_text_explanations-0.1.0/plot_text_explanations.css" rel="stylesheet"><script src="libs/plot_text_explanations-binding-0.5.3.9000/plot_text_explanations.js"></script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lime</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.data-imaginist.com/2018/lime-v0-4-the-kitten-picture-edition/" class="external-link">Version 0.4.0</a>
    </li>
    <li>
      <a href="https://www.data-imaginist.com/2017/announcing-lime/" class="external-link">Version 0.3.0</a>
    </li>
    <li class="divider">
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/thomasp85/lime" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot text explanations</h1>
    <small class="dont-index">Source: <a href="https://github.com/thomasp85/lime/blob/HEAD/R/plot_text.R" class="external-link"><code>R/plot_text.R</code></a></small>
    <div class="hidden name"><code>text_explanations.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Highlight words which explains a prediction.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_text_explanations</span><span class="op">(</span><span class="va">explanations</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>explanations</dt>
<dd><p>object returned by the <a href="lime.html">lime.character</a> function.</p></dd>


<dt>...</dt>
<dd><p>parameters passed to <code><a href="https://rdrr.io/pkg/htmlwidgets/man/sizingPolicy.html" class="external-link">htmlwidgets::sizingPolicy()</a></code></p></dd>

</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other explanation plots: 
<code><a href="plot_explanations.html">plot_explanations</a>()</code>,
<code><a href="plot_features.html">plot_features</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># We load a precalculated explanation set based on the procedure in the ?lime</span></span></span>
<span class="r-in"><span><span class="co"># examples</span></span></span>
<span class="r-in"><span><span class="va">explanations</span> <span class="op">&lt;-</span> <span class="fu"><a href="dot-load_text_example.html">.load_text_example</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We see that the explanations are in the expected format</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">explanations</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             model_type case label label_prob  model_r2 model_intercept feature</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in      classification    1     1  0.6418385 0.9879563       0.3321225      in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> we      classification    1     1  0.6418385 0.9879563       0.3321225      we</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in1     classification    2     1  0.8022363 0.8551634       0.3210651      in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> We      classification    2     1  0.8022363 0.8551634       0.3210651      We</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> those   classification    3     0  0.5432571 0.8868849       0.6909923   those</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> we1     classification    3     0  0.5432571 0.8868849       0.6909923      we</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in2     classification    4     1  0.8719526 0.6569822       0.4941383      in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Section classification    4     1  0.8719526 0.6569822       0.4941383 Section</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of      classification    5     1  0.7316587 0.3242455       0.3535088      of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> our     classification    5     1  0.7316587 0.3242455       0.3535088     our</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         feature_value feature_weight feature_desc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in                 in    -0.03694821           in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> we                 we     0.34825310           we</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in1                in    -0.01236806           in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> We                 We     0.42784027           We</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> those           those     0.07281582        those</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> we1                we    -0.26484904           we</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in2                in     0.01006400           in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Section       Section     0.33433000      Section</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of                 of     0.01377475           of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> our               our     0.28981386          our</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                                                                                                                                                                                      data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in                                                                                                                                                                                                                   we validate them in section  and conclude in section</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> we                                                                                                                                                                                                                   we validate them in section  and conclude in section</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in1                                                            We developed a two-level machine learning approach that in the first level considers two different properties important for protein-protein binding derived from structural models of V3 and V3 sequences.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> We                                                             We developed a two-level machine learning approach that in the first level considers two different properties important for protein-protein binding derived from structural models of V3 and V3 sequences.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> those                                   specifically  we hypothesize that the judgments of those individuals high in this trait will be more influenced by previously presented anchors whereas those individuals low in this trait will be less influenced by the anchor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> we1                                     specifically  we hypothesize that the judgments of those individuals high in this trait will be more influenced by previously presented anchors whereas those individuals low in this trait will be less influenced by the anchor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in2                                                                                                                                                                                                      Finally, in Section  we discuss the results and give conclusions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Section                                                                                                                                                                                                  Finally, in Section  we discuss the results and give conclusions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of      We also illustrate the application of our  SYMBOL -mixing generalization bounds to general classes of learning algorithms, including Support Vector Regression (SVR)  CITATION , Kernel Ridge Regression  CITATION , and Support Vector Machines (SVMs)  CITATION</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> our     We also illustrate the application of our  SYMBOL -mixing generalization bounds to general classes of learning algorithms, including Support Vector Regression (SVR)  CITATION , Kernel Ridge Regression  CITATION , and Support Vector Machines (SVMs)  CITATION</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   prediction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in      0.6418385, 0.3581615</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> we      0.6418385, 0.3581615</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in1     0.8022363, 0.1977637</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> We      0.8022363, 0.1977637</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> those   0.4567429, 0.5432571</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> we1     0.4567429, 0.5432571</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in2     0.8719526, 0.1280474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Section 0.8719526, 0.1280474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of      0.7316587, 0.2683413</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> our     0.7316587, 0.2683413</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We can now get the explanations in the context of the input text</span></span></span>
<span class="r-in"><span><span class="fu">plot_text_explanations</span><span class="op">(</span><span class="va">explanations</span><span class="op">)</span></span></span>
<div id="htmlwidget-542d9ce236169303e825" style="width:700px;height:432.632880098888px;" class="plot_text_explanations html-widget"></div>
<script type="application/json" data-for="htmlwidget-542d9ce236169303e825">{"x":{"html":"<div style=\"overflow-y:scroll;font-family:sans-serif;height:100%\"> <p> <span class='positive_5'>we<\/span> validate them <span class='negative_1'>in<\/span> section  and conclude <span class='negative_1'>in<\/span> section <\/br> <sub>Label predicted: 1 (64.18%)<br/>Explainer fit: 0.99<\/sub> <\/p><br/><p> <span class='positive_5'>We<\/span> developed a two-level machine learning approach that <span class='negative_1'>in<\/span> the first level considers two different properties important for protein-protein binding derived from structural models of V3 and V3 sequences. <\/br> <sub>Label predicted: 1 (80.22%)<br/>Explainer fit: 0.86<\/sub> <\/p><br/><p> specifically  <span class='negative_4'>we<\/span> hypothesize that the judgments of <span class='positive_2'>those<\/span> individuals high in this trait will be more influenced by previously presented anchors whereas <span class='positive_2'>those<\/span> individuals low in this trait will be less influenced by the anchor <\/br> <sub>Label predicted: 0 (54.33%)<br/>Explainer fit: 0.89<\/sub> <\/p><br/><p> Finally, <span class='positive_1'>in<\/span> <span class='positive_5'>Section<\/span>  we discuss the results and give conclusions <\/br> <sub>Label predicted: 1 (87.2%)<br/>Explainer fit: 0.66<\/sub> <\/p><br/><p> We also illustrate the application <span class='positive_1'>of<\/span> <span class='positive_5'>our<\/span>  SYMBOL -mixing generalization bounds to general classes <span class='positive_1'>of<\/span> learning algorithms, including Support Vector Regression (SVR)  CITATION , Kernel Ridge Regression  CITATION , and Support Vector Machines (SVMs)  CITATION <\/br> <sub>Label predicted: 1 (73.17%)<br/>Explainer fit: 0.32<\/sub> <\/p> <\/div>"},"evals":[],"jsHooks":[]}</script><span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Emil Hvitfeldt, <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>, Michaël Benesty.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

